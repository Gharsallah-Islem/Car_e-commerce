-- ============================================================================
-- INVENTORY DATA INSERTION SCRIPT
-- ============================================================================
-- This script populates the inventory management tables with sample data
-- Tables: suppliers, purchase_orders, stock_movements, reorder_settings
-- ============================================================================

-- ============================================================================
-- 1. SUPPLIERS
-- ============================================================================
-- Insert 10 suppliers for auto parts

INSERT INTO suppliers (id, name, company_name, email, phone, address, city, postal_code, country, contact_person, tax_id, payment_terms, notes, is_active, rating, website, created_at, updated_at)
VALUES
-- Supplier 1: Bosch Tunisia
('s1111111-1111-1111-1111-111111111111', 
 'Bosch Tunisia', 
 'Robert Bosch S.A.R.L', 
 'contact@bosch.tn', 
 '+216 71 123 456', 
 'Zone Industrielle Charguia 2', 
 'Tunis', 
 '2035', 
 'Tunisia', 
 'Ahmed Ben Ali', 
 'TN-1234567-A', 
 'Net 30', 
 'Premium automotive parts supplier - OEM quality',
 true, 
 4.8, 
 'www.bosch.tn', 
 NOW() - INTERVAL '6 months', 
 NOW()),

-- Supplier 2: Mann Filter Tunisia
('s1111111-1111-1111-1111-111111111112', 
 'Mann Filter Tunisia', 
 'Mann+Hummel Tunisia SARL', 
 'sales@mannfilter.tn', 
 '+216 71 234 567', 
 'Rue de l''Industrie, Z.I. Mghira', 
 'Tunis', 
 '2082', 
 'Tunisia', 
 'Fatma Trabelsi', 
 'TN-2345678-B', 
 'Net 45', 
 'Specialized in filters and air intake systems',
 true, 
 4.6, 
 'www.mannfilter.tn', 
 NOW() - INTERVAL '5 months', 
 NOW()),

-- Supplier 3: Brembo Tunisia
('s1111111-1111-1111-1111-111111111113', 
 'Brembo Tunisia', 
 'Brembo North Africa', 
 'info@brembo.tn', 
 '+216 71 345 678', 
 'Avenue de la Liberté, Z.I. Ben Arous', 
 'Ben Arous', 
 '2013', 
 'Tunisia', 
 'Mohamed Gharbi', 
 'TN-3456789-C', 
 'Net 30', 
 'High-performance brake systems and components',
 true, 
 4.9, 
 'www.brembo.com', 
 NOW() - INTERVAL '8 months', 
 NOW()),

-- Supplier 4: NGK Spark Plugs
('s1111111-1111-1111-1111-111111111114', 
 'NGK Tunisia', 
 'NGK Spark Plugs Tunisia', 
 'sales@ngk.tn', 
 '+216 71 456 789', 
 'Route de Bizerte Km 12', 
 'Ariana', 
 '2080', 
 'Tunisia', 
 'Sami Jebali', 
 'TN-4567890-D', 
 'Net 30', 
 'Leading spark plug and ignition system manufacturer',
 true, 
 4.7, 
 'www.ngk.com', 
 NOW() - INTERVAL '4 months', 
 NOW()),

-- Supplier 5: Valeo Tunisia
('s1111111-1111-1111-1111-111111111115', 
 'Valeo Tunisia', 
 'Valeo Systèmes Thermiques', 
 'contact@valeo.tn', 
 '+216 71 567 890', 
 'Z.I. Mghira 2', 
 'Tunis', 
 '2082', 
 'Tunisia', 
 'Leila Mansouri', 
 'TN-5678901-E', 
 'Net 45', 
 'Thermal systems, lighting, and electrical components',
 true, 
 4.5, 
 'www.valeo.com', 
 NOW() - INTERVAL '7 months', 
 NOW()),

-- Supplier 6: Continental Tunisia
('s1111111-1111-1111-1111-111111111116', 
 'Continental Tunisia', 
 'Continental Automotive Tunisia', 
 'info@continental.tn', 
 '+216 71 678 901', 
 'Avenue Habib Bourguiba', 
 'Sousse', 
 '4000', 
 'Tunisia', 
 'Karim Belaid', 
 'TN-6789012-F', 
 'Net 30', 
 'Tires, brake systems, and automotive electronics',
 true, 
 4.6, 
 'www.continental.com', 
 NOW() - INTERVAL '3 months', 
 NOW()),

-- Supplier 7: Mahle Tunisia
('s1111111-1111-1111-1111-111111111117', 
 'Mahle Tunisia', 
 'Mahle Filter Systems Tunisia', 
 'sales@mahle.tn', 
 '+216 71 789 012', 
 'Z.I. Megrine', 
 'Ben Arous', 
 '2014', 
 'Tunisia', 
 'Nadia Khelifi', 
 'TN-7890123-G', 
 'Net 45', 
 'Engine components and filtration systems',
 true, 
 4.4, 
 'www.mahle.com', 
 NOW() - INTERVAL '6 months', 
 NOW()),

-- Supplier 8: Denso Tunisia
('s1111111-1111-1111-1111-111111111118', 
 'Denso Tunisia', 
 'Denso Manufacturing Tunisia', 
 'contact@denso.tn', 
 '+216 71 890 123', 
 'Route de Sfax Km 5', 
 'Sfax', 
 '3000', 
 'Tunisia', 
 'Youssef Hamdi', 
 'TN-8901234-H', 
 'Net 30', 
 'Advanced automotive technology and components',
 true, 
 4.7, 
 'www.denso.com', 
 NOW() - INTERVAL '5 months', 
 NOW()),

-- Supplier 9: ZF Tunisia
('s1111111-1111-1111-1111-111111111119', 
 'ZF Tunisia', 
 'ZF Friedrichshafen Tunisia', 
 'info@zf.tn', 
 '+216 71 901 234', 
 'Z.I. Charguia 1', 
 'Tunis', 
 '2035', 
 'Tunisia', 
 'Rania Sassi', 
 'TN-9012345-I', 
 'Net 45', 
 'Transmission systems and chassis components',
 true, 
 4.5, 
 'www.zf.com', 
 NOW() - INTERVAL '4 months', 
 NOW()),

-- Supplier 10: Schaeffler Tunisia
('s1111111-1111-1111-1111-111111111120', 
 'Schaeffler Tunisia', 
 'Schaeffler Automotive Tunisia', 
 'sales@schaeffler.tn', 
 '+216 71 012 345', 
 'Avenue de la République', 
 'Bizerte', 
 '7000', 
 'Tunisia', 
 'Hichem Bouazizi', 
 'TN-0123456-J', 
 'Net 30', 
 'Bearings, timing systems, and engine components',
 true, 
 4.6, 
 'www.schaeffler.com', 
 NOW() - INTERVAL '7 months', 
 NOW());

-- ============================================================================
-- 2. PURCHASE ORDERS
-- ============================================================================
-- Insert 15 purchase orders with various statuses

INSERT INTO purchase_orders (id, po_number, supplier_id, order_date, expected_delivery_date, actual_delivery_date, status, total_amount, tax_amount, shipping_cost, discount_amount, grand_total, notes, created_by, approved_by, received_by, created_at, updated_at)
VALUES
-- PO 1: RECEIVED - Bosch (Spark Plugs)
('po111111-1111-1111-1111-111111111111',
 'PO-2024-001',
 's1111111-1111-1111-1111-111111111111',
 '2024-09-01',
 '2024-09-15',
 '2024-09-14',
 'RECEIVED',
 4599.00,
 873.81,
 150.00,
 0.00,
 5622.81,
 'Initial stock order for spark plugs - 100 units',
 'admin@example.com',
 'admin@example.com',
 'warehouse@example.com',
 '2024-09-01 10:00:00',
 '2024-09-14 14:30:00'),

-- PO 2: RECEIVED - Mann Filter (Oil Filters)
('po111111-1111-1111-1111-111111111112',
 'PO-2024-002',
 's1111111-1111-1111-1111-111111111112',
 '2024-09-05',
 '2024-09-20',
 '2024-09-19',
 'RECEIVED',
 2500.00,
 475.00,
 100.00,
 125.00,
 2950.00,
 'Bulk order - Engine oil filters (200 units)',
 'admin@example.com',
 'admin@example.com',
 'warehouse@example.com',
 '2024-09-05 09:00:00',
 '2024-09-19 11:00:00'),

-- PO 3: RECEIVED - Brembo (Brake Pads)
('po111111-1111-1111-1111-111111111113',
 'PO-2024-003',
 's1111111-1111-1111-1111-111111111113',
 '2024-09-10',
 '2024-09-25',
 '2024-09-24',
 'RECEIVED',
 11460.00,
 2177.40,
 200.00,
 573.00,
 13264.40,
 'Premium ceramic brake pads - 120 sets',
 'admin@example.com',
 'admin@example.com',
 'warehouse@example.com',
 '2024-09-10 08:30:00',
 '2024-09-24 15:00:00'),

-- PO 4: APPROVED - Mann Filter (Air Filters)
('po111111-1111-1111-1111-111111111114',
 'PO-2024-004',
 's1111111-1111-1111-1111-111111111112',
 '2024-10-15',
 '2024-11-01',
 NULL,
 'APPROVED',
 3281.25,
 623.44,
 120.00,
 0.00,
 4024.69,
 'Engine air filters - 175 units',
 'admin@example.com',
 'admin@example.com',
 NULL,
 '2024-10-15 10:00:00',
 '2024-10-16 09:00:00'),

-- PO 5: PENDING - Valeo (Timing Belts)
('po111111-1111-1111-1111-111111111115',
 'PO-2024-005',
 's1111111-1111-1111-1111-111111111115',
 '2024-11-01',
 '2024-11-20',
 NULL,
 'PENDING',
 7125.00,
 1353.75,
 180.00,
 356.25,
 8302.50,
 'Timing belt kits - 57 units',
 'admin@example.com',
 NULL,
 NULL,
 '2024-11-01 11:00:00',
 '2024-11-01 11:00:00'),

-- PO 6: RECEIVED - Continental (Brake Discs)
('po111111-1111-1111-1111-111111111116',
 'PO-2024-006',
 's1111111-1111-1111-1111-111111111116',
 '2024-09-20',
 '2024-10-05',
 '2024-10-04',
 'RECEIVED',
 8925.00,
 1695.75,
 175.00,
 0.00,
 10795.75,
 'Brake discs (front) - 75 pairs',
 'admin@example.com',
 'admin@example.com',
 'warehouse@example.com',
 '2024-09-20 14:00:00',
 '2024-10-04 16:00:00'),

-- PO 7: APPROVED - Denso (Fuel Injectors)
('po111111-1111-1111-1111-111111111117',
 'PO-2024-007',
 's1111111-1111-1111-1111-111111111118',
 '2024-10-25',
 '2024-11-10',
 NULL,
 'APPROVED',
 5940.00,
 1128.60,
 150.00,
 297.00,
 6921.60,
 'Fuel injectors - 45 units',
 'admin@example.com',
 'admin@example.com',
 NULL,
 '2024-10-25 09:30:00',
 '2024-10-26 10:00:00'),

-- PO 8: PENDING - Mahle (Engine Oil)
('po111111-1111-1111-1111-111111111118',
 'PO-2024-008',
 's1111111-1111-1111-1111-111111111117',
 '2024-11-05',
 '2024-11-25',
 NULL,
 'PENDING',
 4200.00,
 798.00,
 130.00,
 0.00,
 5128.00,
 'Synthetic engine oil 5W-30 - 100 bottles (5L each)',
 'admin@example.com',
 NULL,
 NULL,
 '2024-11-05 13:00:00',
 '2024-11-05 13:00:00'),

-- PO 9: RECEIVED - NGK (Spark Plugs)
('po111111-1111-1111-1111-111111111119',
 'PO-2024-009',
 's1111111-1111-1111-1111-111111111114',
 '2024-10-01',
 '2024-10-15',
 '2024-10-14',
 'RECEIVED',
 3680.00,
 699.20,
 110.00,
 184.00,
 4305.20,
 'Platinum spark plugs - 80 sets',
 'admin@example.com',
 'admin@example.com',
 'warehouse@example.com',
 '2024-10-01 08:00:00',
 '2024-10-14 12:00:00'),

-- PO 10: APPROVED - ZF (Transmission Filters)
('po111111-1111-1111-1111-111111111120',
 'PO-2024-010',
 's1111111-1111-1111-1111-111111111119',
 '2024-11-08',
 '2024-11-28',
 NULL,
 'APPROVED',
 2850.00,
 541.50,
 95.00,
 0.00,
 3486.50,
 'Automatic transmission filters - 60 units',
 'admin@example.com',
 'admin@example.com',
 NULL,
 '2024-11-08 10:30:00',
 '2024-11-09 09:00:00'),

-- PO 11: DRAFT - Schaeffler (Wheel Bearings)
('po111111-1111-1111-1111-111111111121',
 'PO-2024-011',
 's1111111-1111-1111-1111-111111111120',
 '2024-11-15',
 '2024-12-05',
 NULL,
 'DRAFT',
 6720.00,
 1276.80,
 160.00,
 336.00,
 7820.80,
 'Wheel bearing assemblies - 80 units',
 'admin@example.com',
 NULL,
 NULL,
 '2024-11-15 15:00:00',
 '2024-11-15 15:00:00'),

-- PO 12: CANCELLED - Bosch (Wiper Blades)
('po111111-1111-1111-1111-111111111122',
 'PO-2024-012',
 's1111111-1111-1111-1111-111111111111',
 '2024-10-10',
 '2024-10-25',
 NULL,
 'CANCELLED',
 1575.00,
 299.25,
 75.00,
 0.00,
 1949.25,
 'Cancelled due to supplier stock issues',
 'admin@example.com',
 NULL,
 NULL,
 '2024-10-10 11:00:00',
 '2024-10-12 14:00:00'),

-- PO 13: RECEIVED - Valeo (Alternators)
('po111111-1111-1111-1111-111111111123',
 'PO-2024-013',
 's1111111-1111-1111-1111-111111111115',
 '2024-09-25',
 '2024-10-10',
 '2024-10-09',
 'RECEIVED',
 9450.00,
 1795.50,
 190.00,
 472.50,
 10963.00,
 'Alternators - 30 units',
 'admin@example.com',
 'admin@example.com',
 'warehouse@example.com',
 '2024-09-25 09:00:00',
 '2024-10-09 13:30:00'),

-- PO 14: PENDING - Continental (Tires)
('po111111-1111-1111-1111-111111111124',
 'PO-2024-014',
 's1111111-1111-1111-1111-111111111116',
 '2024-11-10',
 '2024-11-30',
 NULL,
 'PENDING',
 15750.00,
 2992.50,
 250.00,
 0.00,
 18992.50,
 'All-season tires 205/55R16 - 50 units',
 'admin@example.com',
 NULL,
 NULL,
 '2024-11-10 14:00:00',
 '2024-11-10 14:00:00'),

-- PO 15: APPROVED - Brembo (Brake Calipers)
('po111111-1111-1111-1111-111111111125',
 'PO-2024-015',
 's1111111-1111-1111-1111-111111111113',
 '2024-11-12',
 '2024-11-27',
 NULL,
 'APPROVED',
 12600.00,
 2394.00,
 210.00,
 630.00,
 14574.00,
 'High-performance brake calipers - 40 sets',
 'admin@example.com',
 'admin@example.com',
 NULL,
 '2024-11-12 10:00:00',
 '2024-11-13 11:00:00');

-- ============================================================================
-- 3. STOCK MOVEMENTS
-- ============================================================================
-- Insert stock movements for received purchase orders and sales

INSERT INTO stock_movements (id, product_id, movement_type, quantity, previous_stock, new_stock, reference_id, reference_type, notes, performed_by, movement_date)
VALUES
-- Movement 1: Initial stock for Spark Plugs (from PO-2024-001)
('sm111111-1111-1111-1111-111111111111',
 'a1111111-1111-1111-1111-111111111111', -- Platinum Spark Plugs
 'PURCHASE',
 100,
 48,
 148,
 'po111111-1111-1111-1111-111111111111',
 'PURCHASE_ORDER',
 'Received from PO-2024-001 - Bosch supplier',
 'warehouse@example.com',
 '2024-09-14 14:30:00'),

-- Movement 2: Initial stock for Oil Filters (from PO-2024-002)
('sm111111-1111-1111-1111-111111111112',
 'a1111111-1111-1111-1111-111111111112', -- Engine Oil Filter
 'PURCHASE',
 200,
 0,
 200,
 'po111111-1111-1111-1111-111111111112',
 'PURCHASE_ORDER',
 'Received from PO-2024-002 - Mann Filter supplier',
 'warehouse@example.com',
 '2024-09-19 11:00:00'),

-- Movement 3: Initial stock for Brake Pads (from PO-2024-003)
('sm111111-1111-1111-1111-111111111113',
 'a2222222-2222-2222-2222-222222222221', -- Ceramic Brake Pads
 'PURCHASE',
 120,
 0,
 120,
 'po111111-1111-1111-1111-111111111113',
 'PURCHASE_ORDER',
 'Received from PO-2024-003 - Brembo supplier',
 'warehouse@example.com',
 '2024-09-24 15:00:00'),

-- Movement 4: Sale - Spark Plugs (from order)
('sm111111-1111-1111-1111-111111111114',
 'a1111111-1111-1111-1111-111111111111',
 'SALE',
 -2,
 150,
 148,
 'e1111111-1111-1111-1111-111111111111',
 'ORDER',
 'Sold via order TRK-2024-001',
 'system',
 '2024-10-04 10:00:00'),

-- Movement 5: Sale - Brake Pads (from order)
('sm111111-1111-1111-1111-111111111115',
 'a2222222-2222-2222-2222-222222222221',
 'SALE',
 -2,
 120,
 118,
 'e1111111-1111-1111-1111-111111111112',
 'ORDER',
 'Sold via order TRK-2024-002',
 'system',
 '2024-10-14 11:00:00'),

-- Movement 6: Initial stock for Air Filters (from PO-2024-009)
('sm111111-1111-1111-1111-111111111116',
 'a1111111-1111-1111-1111-111111111113', -- Engine Air Filter
 'PURCHASE',
 175,
 0,
 175,
 'po111111-1111-1111-1111-111111111119',
 'PURCHASE_ORDER',
 'Received from PO-2024-009 - NGK supplier',
 'warehouse@example.com',
 '2024-10-14 12:00:00'),

-- Movement 7: Sale - Air Filter (from order)
('sm111111-1111-1111-1111-111111111117',
 'a1111111-1111-1111-1111-111111111113',
 'SALE',
 -1,
 175,
 174,
 'e1111111-1111-1111-1111-111111111113',
 'ORDER',
 'Sold via order TRK-2024-003',
 'system',
 '2024-10-29 09:00:00'),

-- Movement 8: Initial stock for Timing Belts (from PO-2024-013)
('sm111111-1111-1111-1111-111111111118',
 'a1111111-1111-1111-1111-111111111115', -- Timing Belt Kit
 'PURCHASE',
 60,
 0,
 60,
 'po111111-1111-1111-1111-111111111123',
 'PURCHASE_ORDER',
 'Received from PO-2024-013 - Valeo supplier',
 'warehouse@example.com',
 '2024-10-09 13:30:00'),

-- Movement 9: Sale - Timing Belt (from order)
('sm111111-1111-1111-1111-111111111119',
 'a1111111-1111-1111-1111-111111111115',
 'SALE',
 -3,
 60,
 57,
 'e1111111-1111-1111-1111-111111111114',
 'ORDER',
 'Sold via order TRK-2024-004',
 'system',
 '2024-11-01 10:30:00'),

-- Movement 10: Adjustment - Oil Filter (inventory correction)
('sm111111-1111-1111-1111-111111111120',
 'a1111111-1111-1111-1111-111111111112',
 'ADJUSTMENT',
 5,
 195,
 200,
 NULL,
 'MANUAL',
 'Inventory count correction - found 5 additional units',
 'admin@example.com',
 '2024-10-20 16:00:00'),

-- Movement 11: Damaged - Brake Pads
('sm111111-1111-1111-1111-111111111121',
 'a2222222-2222-2222-2222-222222222221',
 'DAMAGED',
 -2,
 120,
 118,
 NULL,
 'MANUAL',
 'Damaged during handling - written off',
 'warehouse@example.com',
 '2024-10-15 14:00:00'),

-- Movement 12: Return from customer - Spark Plugs
('sm111111-1111-1111-1111-111111111122',
 'a1111111-1111-1111-1111-111111111111',
 'RETURN_FROM_CUSTOMER',
 1,
 147,
 148,
 'e1111111-1111-1111-1111-111111111111',
 'ORDER',
 'Customer return - wrong fitment',
 'customer_service@example.com',
 '2024-10-12 11:00:00');

-- ============================================================================
-- 4. REORDER SETTINGS
-- ============================================================================
-- Insert reorder settings for products

INSERT INTO reorder_settings (id, product_id, reorder_point, reorder_quantity, minimum_stock, maximum_stock, lead_time_days, auto_reorder, is_enabled, preferred_supplier_id, notes, last_alert_sent, last_reorder_date, created_at, updated_at)
VALUES
-- Reorder 1: Spark Plugs
('rs111111-1111-1111-1111-111111111111',
 'a1111111-1111-1111-1111-111111111111', -- Platinum Spark Plugs
 50,
 100,
 30,
 200,
 14,
 true,
 true,
 's1111111-1111-1111-1111-111111111111', -- Bosch
 'High-demand item - maintain adequate stock',
 NULL,
 '2024-09-01',
 NOW() - INTERVAL '2 months',
 NOW()),

-- Reorder 2: Oil Filters
('rs111111-1111-1111-1111-111111111112',
 'a1111111-1111-1111-1111-111111111112', -- Engine Oil Filter
 75,
 150,
 50,
 300,
 10,
 true,
 true,
 's1111111-1111-1111-1111-111111111112', -- Mann Filter
 'Fast-moving consumable - auto-reorder enabled',
 NULL,
 '2024-09-05',
 NOW() - INTERVAL '2 months',
 NOW()),

-- Reorder 3: Brake Pads
('rs111111-1111-1111-1111-111111111113',
 'a2222222-2222-2222-2222-222222222221', -- Ceramic Brake Pads
 40,
 80,
 25,
 150,
 15,
 true,
 true,
 's1111111-1111-1111-1111-111111111113', -- Brembo
 'Premium product - maintain stock for customer demand',
 NULL,
 '2024-09-10',
 NOW() - INTERVAL '2 months',
 NOW()),

-- Reorder 4: Air Filters
('rs111111-1111-1111-1111-111111111114',
 'a1111111-1111-1111-1111-111111111113', -- Engine Air Filter
 60,
 120,
 40,
 250,
 12,
 true,
 true,
 's1111111-1111-1111-1111-111111111112', -- Mann Filter
 'Regular maintenance item - high turnover',
 NULL,
 '2024-10-14',
 NOW() - INTERVAL '1 month',
 NOW()),

-- Reorder 5: Timing Belts
('rs111111-1111-1111-1111-111111111115',
 'a1111111-1111-1111-1111-111111111115', -- Timing Belt Kit
 30,
 60,
 20,
 100,
 20,
 false,
 true,
 's1111111-1111-1111-1111-111111111115', -- Valeo
 'Seasonal demand - manual reorder preferred',
 NULL,
 NULL,
 NOW() - INTERVAL '1 month',
 NOW());

-- ============================================================================
-- VERIFICATION QUERIES
-- ============================================================================
-- Run these to verify the data was inserted correctly

-- SELECT COUNT(*) as supplier_count FROM suppliers;
-- SELECT COUNT(*) as purchase_order_count FROM purchase_orders;
-- SELECT COUNT(*) as stock_movement_count FROM stock_movements;
-- SELECT COUNT(*) as reorder_setting_count FROM reorder_settings;

-- SELECT status, COUNT(*) FROM purchase_orders GROUP BY status;
-- SELECT movement_type, COUNT(*) FROM stock_movements GROUP BY movement_type;
-- SELECT auto_reorder, COUNT(*) FROM reorder_settings GROUP BY auto_reorder;

