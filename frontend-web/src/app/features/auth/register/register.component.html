<div class="register-container">
    <!-- Animated Background -->
    <div class="background-animation">
        <div class="gradient-orb orb-1"></div>
        <div class="gradient-orb orb-2"></div>
        <div class="gradient-orb orb-3"></div>
    </div>

    <!-- Floating Shapes -->
    <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
    </div>

    <!-- Left Panel - Branding -->
    <div class="brand-panel fade-in">
        <div class="brand-content">
            <div class="brand-icon-wrapper">
                <mat-icon class="brand-icon">group_add</mat-icon>
                <div class="icon-glow"></div>
            </div>
            <h1 class="brand-title">Join Our Community</h1>
            <p class="brand-subtitle">Start Your Journey with Premium Auto Parts</p>

            <div class="benefits-list">
                <div class="benefit-item" *ngFor="let benefit of benefits">
                    <div class="benefit-number">{{ benefit.number }}</div>
                    <div class="benefit-content">
                        <h3>{{ benefit.title }}</h3>
                        <p>{{ benefit.description }}</p>
                    </div>
                </div>
            </div>

            <div class="stats-grid">
                <div class="stat-item" *ngFor="let stat of stats">
                    <div class="stat-icon">
                        <mat-icon>{{ stat.icon }}</mat-icon>
                    </div>
                    <div class="stat-value">{{ stat.value }}</div>
                    <div class="stat-label">{{ stat.label }}</div>
                </div>
            </div>
        </div>
    </div>

    <!-- Right Panel - Registration Form -->
    <div class="form-panel slide-in">
        <mat-card class="register-card">
            <div class="card-header">
                <h2 class="welcome-title">Create Account</h2>
                <p class="welcome-subtitle">Fill in your details to get started</p>
            </div>

            <mat-card-content>
                <!-- Registration Form -->
                <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
                    <div class="name-row">
                        <div class="input-group half-width">
                            <mat-form-field appearance="outline" class="modern-input">
                                <mat-label>First Name</mat-label>
                                <input matInput type="text" formControlName="firstName" placeholder="John"
                                    autocomplete="given-name">
                                <mat-icon matPrefix class="input-icon">person</mat-icon>
                                <mat-error *ngIf="firstNameControl?.invalid">
                                    {{ getFirstNameError() }}
                                </mat-error>
                            </mat-form-field>
                        </div>

                        <div class="input-group half-width">
                            <mat-form-field appearance="outline" class="modern-input">
                                <mat-label>Last Name</mat-label>
                                <input matInput type="text" formControlName="lastName" placeholder="Doe"
                                    autocomplete="family-name">
                                <mat-icon matPrefix class="input-icon">person_outline</mat-icon>
                                <mat-error *ngIf="lastNameControl?.invalid">
                                    {{ getLastNameError() }}
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>

                    <div class="input-group">
                        <mat-form-field appearance="outline" class="full-width modern-input">
                            <mat-label>Email Address</mat-label>
                            <input matInput type="email" formControlName="email" placeholder="your.email@example.com"
                                autocomplete="email">
                            <mat-icon matPrefix class="input-icon">email</mat-icon>
                            <mat-error *ngIf="emailControl?.invalid">
                                {{ getEmailError() }}
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="input-group">
                        <mat-form-field appearance="outline" class="full-width modern-input">
                            <mat-label>Phone Number (Optional)</mat-label>
                            <input matInput type="tel" formControlName="phoneNumber" placeholder="12345678"
                                autocomplete="tel">
                            <mat-icon matPrefix class="input-icon">phone</mat-icon>
                            <mat-error *ngIf="phoneControl?.invalid">
                                {{ getPhoneError() }}
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="input-group">
                        <mat-form-field appearance="outline" class="full-width modern-input">
                            <mat-label>Password</mat-label>
                            <input matInput [type]="hidePassword() ? 'password' : 'text'" formControlName="password"
                                placeholder="At least 6 characters" autocomplete="new-password">
                            <mat-icon matPrefix class="input-icon">lock</mat-icon>
                            <button mat-icon-button matSuffix type="button" (click)="togglePasswordVisibility()"
                                class="toggle-password">
                                <mat-icon>{{ hidePassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
                            </button>
                            <mat-error *ngIf="passwordControl?.invalid">
                                {{ getPasswordError() }}
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="input-group">
                        <mat-form-field appearance="outline" class="full-width modern-input">
                            <mat-label>Confirm Password</mat-label>
                            <input matInput [type]="hideConfirmPassword() ? 'password' : 'text'"
                                formControlName="confirmPassword" placeholder="Re-enter your password"
                                autocomplete="new-password">
                            <mat-icon matPrefix class="input-icon">lock_outline</mat-icon>
                            <button mat-icon-button matSuffix type="button" (click)="toggleConfirmPasswordVisibility()"
                                class="toggle-password">
                                <mat-icon>{{ hideConfirmPassword() ? 'visibility_off' : 'visibility' }}</mat-icon>
                            </button>
                            <mat-error
                                *ngIf="confirmPasswordControl?.invalid || registerForm.hasError('passwordMismatch')">
                                {{ getConfirmPasswordError() }}
                            </mat-error>
                        </mat-form-field>
                    </div>

                    <div class="terms-checkbox">
                        <mat-checkbox formControlName="termsAccepted" color="primary">
                            I agree to the
                            <a href="/terms" target="_blank" class="terms-link">Terms & Conditions</a>
                            and
                            <a href="/privacy" target="_blank" class="terms-link">Privacy Policy</a>
                        </mat-checkbox>
                        <mat-error *ngIf="termsControl?.invalid && termsControl?.touched" class="terms-error">
                            You must accept the terms and conditions
                        </mat-error>
                    </div>

                    <button mat-raised-button type="submit" class="full-width submit-btn gradient-btn"
                        [disabled]="isLoading()">
                        <mat-spinner *ngIf="isLoading()" diameter="20" class="spinner"></mat-spinner>
                        <span *ngIf="!isLoading()">
                            <mat-icon class="btn-icon">person_add</mat-icon>
                            Create Account
                        </span>
                    </button>
                </form>

                <!-- Divider -->
                <div class="divider-container">
                    <div class="divider-line"></div>
                    <span class="divider-text">OR SIGN UP WITH</span>
                    <div class="divider-line"></div>
                </div>

                <!-- Social Registration -->
                <div class="social-buttons">
                    <button mat-stroked-button class="social-btn google-btn" (click)="loginWithGoogle()" type="button">
                        <img src="https://www.gstatic.com/firebasejs/ui/2.0.0/images/auth/google.svg" alt="Google"
                            class="social-icon">
                        <span>Google</span>
                    </button>
                </div>

                <!-- Login Link -->
                <div class="footer-link">
                    <span>Already have an account?</span>
                    <a routerLink="/auth/login" class="link">Sign In</a>
                </div>
            </mat-card-content>
        </mat-card>
    </div>
</div>